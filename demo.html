<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{
            width: 300px;
            height: 200px;
            background: blue;
            display: flex;
        }
        .box1{
            background: red;
            flex: 1;
        }
    </style>
</head>

<body>
  
<script>
    let arr = [
        { name: '1', type: '0' },
        { name: '2', type: '3' },
        { name: '3', type: '2' },
        { name: '4', type: '1' },
        { name: '5', type: '2' },
        { name: '6', type: '3' },
        { name: '7', type: '0' }
    ];
    // [{type:'0',value:[{ name: '1', type: '0' },{ name: '7', type: '0' }]},{type:'1',value:[{ name: '4', type: '1' }]}]
    // let newArr = arr.reduce((prevArr, item)=>{
    //     let lock = true;
    //     prevArr.forEach( i => {
    //         if(i.type == item.type){
    //             i.value.push(item);
    //             lock = false;
    //         }
    //     })
    //     if(lock){
    //         prevArr.push({ type: item.type, value: [item] });
    //     }
    //     return prevArr;
    // }, []);
    // console.log(newArr);


    // let obj = {};
    //     let newArr = arr.reduce((prevArr, item) => {
    //         if (obj[item.type]) {
    //             prevArr.forEach(i => {
    //                 if (i.type == item.type) {
    //                     i.value.push(item);
    //                 }
    //             })
    //         } else {
    //             obj[item.type] = true;
    //             prevArr.push({ type: item.type, value: [item] });
    //         }
    //         return prevArr;
    //     }, []);
    //     console.log(newArr);

</script>
</body>
</html>